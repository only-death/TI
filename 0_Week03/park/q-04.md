# 토픽: http, 프로토콜, 네트워크

## Q. 웹소켓(WebSocket)은 무엇이며, HTTP와의 차이점은?

### 웹소켓(WebSocket)이란?

WebSocket은 브라우저와 서버 사이에 지속적인 연결을 유지하면서, **양방향(Full Duplex) 통신**을 가능하게 하는 프로토콜입니다.  
HTTP와는 다르게 요청-응답(request-response) 방식이 아니라, **한 번 연결하면 클라이언트와 서버가 자유롭게 데이터를 주고받을 수 있는 상태**가 됩니다.

### 특징

| 특징                                     | 설명                                                            |
| ---------------------------------------- | --------------------------------------------------------------- |
| 📡 **양방향 통신 (Full Duplex)**         | 클라이언트와 서버가 **서로 자유롭게 데이터를 주고받을 수 있음** |
| 🔗 **연결 지속 (Persistent Connection)** | 최초에 한 번 연결한 후 **끊기지 않고 지속적인 연결 유지**       |
| ⚡ **실시간성**                          | 실시간 채팅, 게임, 알림 등에 적합                               |
| 📉 **낮은 오버헤드**                     | HTTP처럼 요청마다 헤더를 보내지 않아서 **네트워크 비용이 적음** |
| 🌐 **HTTP로 핸드셰이크**                 | 초기 연결은 HTTP 요청으로 시작한 뒤, WebSocket으로 업그레이드됨 |

### WebSocket vs HTTP 차이

| 구분          | HTTP                           | WebSocket                               |
| ------------- | ------------------------------ | --------------------------------------- |
| 통신 방식     | 요청/응답 (Request/Response)   | **양방향 통신 (Full Duplex)**           |
| 연결 방식     | 요청마다 연결하고 응답 후 종료 | **연결을 유지한 채 계속 통신**          |
| 헤더 오버헤드 | 요청마다 헤더 포함 (무거움)    | **최초만 헤더, 이후는 경량화된 프레임** |
| 실시간 통신   | 실시간에 적합하지 않음         | **실시간 애플리케이션에 적합**          |
| 사용 사례     | 웹 페이지, 폼 제출, API 등     | **채팅, 실시간 게임, 알림, 스트리밍**   |

### 예시 흐름

1. 클라이언트가 HTTP 프로토콜로 서버에 요청

`GET /chat HTTP/1.1`  
`Connection: Upgrade`  
`Upgrade: websocket`

2. 서버가 WebSocket 업그레이드 수락

`101 Switching Protocols`

3. 연결이 성립되면 클라이언트와 서버는 실시간으로 데이터 송수신 가능

## 정리

> WebSocket은 클라이언트와 서버 간에 지속적인 연결을 유지하며 양방향으로 통신할 수 있도록 해주는 프로토콜입니다.  
> 일반적인 HTTP는 요청을 보낸 후 응답을 받고 연결이 끊기는 방식이지만, WebSocket은 최초에 한 번 HTTP 기반의 핸드셰이크로 연결을 맺은 뒤, 지속적으로 데이터를 주고받을 수 있는 연결 상태를 유지합니다.
>
> 이 방식은 매번 요청을 새로 만드는 HTTP보다 오버헤드가 적고, 실시간성이 요구되는 애플리케이션(예: 채팅, 알림, 주식 시세, 게임 등)에 적합합니다.  
> HTTP는 단방향이지만 WebSocket은 양방향 통신이 가능하기 때문에 서버에서도 클라이언트로 데이터를 푸시할 수 있습니다.
