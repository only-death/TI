## ☑ 왜 index를 key로 사용하면 안 되는지 설명해주세요.

### 리액트에서 배열 렌더링할 때 key가 필요한 이유

DOM 노드의 자식들을 재귀적으로 처리할 때, 리액트는 기본적으로 동시에 두 리스트를 순회하고 차이점이 있으면 변경을 생성합니다.

### index를 키로 쓰면 생기는 문제

#### `map`의 인덱스를 `key`로 사용할 때 발생하는 문제점

배열의 `map` 메소드를 사용하다보면 인덱스를 `key`로 사용하기 쉬운데, 이 경우 배열이 재배열되면 배열 내부의 엘리먼트에 해당하는 `key` 값 또한 바뀝니다. 컴포넌트는 `key`를 기반으로 갱신되고 재사용되기 때문에 컴포넌트의 `key` 값이 바뀌면서 컴포넌트의 state가 꼬이거나 의도하지 않은 방식으로 바뀌는 문제가 발생할 수 있습니다.

#### 표

| 문제            | 설명                                            |
| --------------- | ----------------------------------------------- |
| 상태 꼬임       | React가 잘못된 컴포넌트를 재사용해서 값이 엉킴  |
| 애니메이션 오류 | 순서 변경 시 이전 요소에 애니메이션이 남아 있음 |
| 포커스 문제     | 포커스가 바뀌어야 할 요소에 그대로 남아 있음    |
| 디버깅 어려움   | 변화 원인을 추적하기 어려움                     |

### 💯 정리

React에서 `key`는 리스트 렌더링 시 각 요소의 고유성을 식별하기 위한 식별자로 사용됩니다.
`key`가 변경되지 않으면 React는 해당 요소가 같은 컴포넌트라고 판단하고 재사용하게 되는데,
이때 `index`를 `key`로 사용하면 요소의 순서가 바뀌거나 삽입/삭제될 때 `key`가 변하지 않아 잘못된 요소가 재사용될 수 있습니다.

특히 입력 폼, 애니메이션, 상태가 있는 컴포넌트에서는 `index` 기반 `key`로 인해 값이나 포커스가 엉키는 현상이 발생할 수 있기 때문에,
가급적 **고유한 식별자(예: id)** 를 사용하는 것이 바람직합니다.
