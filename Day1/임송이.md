# useMemo, useCallback 에 대해 설명하고, 어떤 경우에 사용하면 좋을지, 남용할 경우 발생할 수 있는 문제점을 설명해 주세요.

리액트에서 컴포넌트가 렌더링 될때마다 불필요한 연산을 반복하게 되면 성능 저하가 발생할수 있다.
`useMemo`와 `useCallback`은 훅으로 각각 메모제이션으로 불필요한 연산과 재생성을 방지하여 성능을 최적하 하기 위해 쓰인다.

### useMemo

react 컴포넌트 안에서 선언된 변수는 리렌더링 될때마다 다시 생성되기 떄문에 변수에 함수가 할당 되어 있다면 렌더링 될때마다 함수를 호출 하는 것과 마찬가지이다.
useMemo는 함수가 처음 실행되고 그 연산값은 캐싱해 의존성 배열의 값이 바뀌지 않는한 이전 캐싱된 값을 반환하고 재연산을 하지 않는다. useMemo가 쓰인 함수는 다른 상태 변화로 컴포넌트가 리렌더링 되더라도 의존성 배열에 있는 값이 바뀌지 않는한 캐싱된 값을 반환한다.

사용하면 좋을때:

- 비싼 연산을 할때, 그치만 그 값이 렌더링 될때마다 필요치 않을때
- .map()으로 리스트를 랜더링 할때, 특정 state값이 변하지 않는이상 값이 같을때 (대규모 배열의 필터링/정렬)
- API 응답 데이터 가공

### useCallback

useMemo가 리턴값을 메모제이션 한다면 useCallback은 콜백 함수를 메모제이션 하는 훅으로 함수 그 자체 (사실은 참조값)를 캐싱 한다. 컴포넌트 안 함수는 렌더링 될떄마다 재생성 되기 떄문에 함수는 같아도 그 참조값이 달라지게 되는데 부모 컴포넌트에서 내려주는 props에 함수가 있고 그 참조값이 바뀌기 때문에 자식 컴포넌트도 의미없이 리렌더링이 된다.
useCallback은 함수를 캐싱하기 때문에 참조값이 달라지지 않아 불필요한 렌더링을 방지 할 수 있다.

사용하면 좋을떄:

- 자식 컴포넌트에 전달되는 콜백 함수
- useEffect의 의존성으로 사용되는 함수
- 커스텀 훅에서 반환하는 함수

useMemo나 useCallback 자체도 메모리값이 들기때문에 복잡하지 않은 연산이 아니거나 무부분별하게 쓰는것은 지양해야 한다.

### 정리

### **useMemo와 useCallback의 차이점**

| 구분              | useMemo                                 | useCallback                                                |
| ----------------- | --------------------------------------- | ---------------------------------------------------------- |
| **캐싱 대상**     | 함수의 **반환값**                       | 함수 자체의 **참조값**                                     |
| **용도**          | 비싼 연산 결과를 캐싱하여 연산을 최소화 | 함수를 캐싱하여 참조값 변경으로 인한 리렌더링 방지         |
| **대표적 사용처** | 리스트 렌더링, 복잡한 계산              | 자식 컴포넌트로 전달하는 함수, 커스텀 훅에서 반환하는 함수 |
