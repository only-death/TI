# 토픽: Webpack

## Q. 코드 스플리팅(Code Splitting)이란 무엇이며, 어떻게 설정하나요?

## 주요 키워드

- **코드 스플리팅 (Code Splitting)**: 번들을 여러 청크로 나누어 필요할 때만 로드하는 기법
- **청크 (Chunk)**: 분할된 번들의 각 단위
- **지연 로딩 (Lazy Loading)**: 필요한 시점에 코드를 동적으로 로드하는 방식
- **동적 임포트 (Dynamic Import)**: ES2020의 `import()` 함수를 사용한 런타임 모듈 로딩
- **엔트리 포인트 분할 (Entry Point Splitting)**: 여러 진입점으로 번들을 나누는 방법
- **SplitChunksPlugin**: 웹팩의 청크 분할 최적화 플러그인
- **벤더 번들 (Vendor Bundle)**: 외부 라이브러리들을 모은 별도 번들
- **번들 분석 (Bundle Analysis)**: 청크 크기와 의존성을 분석하는 과정

## Script

코드 스플리팅은 **하나의 큰 번들을 여러 개의 작은 청크로 나누어 성능을 최적화하는 기법입니다.** 사용자가 애플리케이션의 모든 기능을 처음부터 필요로 하지 않기 때문에, 필요한 부분만 먼저 로드하고 나머지는 필요할 때 로드하는 방식입니다.

**코드 스플리팅에는 세 가지 주요 방법이 있습니다.**

**첫 번째는 엔트리 포인트 분할입니다.** 웹팩 설정에서 여러 entry를 정의하여 번들을 나누는 방법입니다. 예를 들어 main과 vendor를 분리하여 애플리케이션 코드와 라이브러리를 별도로 관리할 수 있습니다.

**두 번째는 동적 임포트를 활용한 방법입니다.** `import('./module').then()` 구문을 사용하면 해당 모듈이 필요한 시점에 동적으로 로드됩니다. React의 React.lazy()나 Vue의 비동기 컴포넌트가 이 방식을 활용합니다.

**세 번째는 SplitChunksPlugin을 활용한 자동 분할입니다.** 웹팩이 자동으로 공통 모듈을 분석하여 최적의 청크로 나누어줍니다. `optimization.splitChunks`에서 `chunks: 'all'`로 설정하면 모든 청크에서 공통 모듈을 추출하고, cacheGroups를 통해 node_modules의 vendor 라이브러리들을 별도 청크로 분리할 수 있습니다.

**이렇게 코드 스플리팅을 적용하면** 초기 로딩 시간이 단축되고, 사용자가 실제로 사용하는 기능만 우선 로드되어 사용자 경험이 크게 개선됩니다.

## 더 공부할 내용

1. React.lazy()와 Suspense를 활용한 컴포넌트 레벨 코드 스플리팅
2. 라우트 기반 코드 스플리팅 구현 방법 (React Router, Vue Router)
3. Prefetch와 Preload를 활용한 청크 로딩 최적화
4. HTTP/2 환경에서의 코드 스플리팅 전략
5. 청크 로딩 실패 시 에러 핸들링 및 재시도 로직
6. 마이크로 프론트엔드에서의 코드 스플리팅 적용 방법
7. 번들 사이즈와 네트워크 요청 수의 최적 균형점 찾기
