# 토픽: Webpack

## Q. 번들 크기를 줄이는 방법들은?

## 주요 키워드

- **트리 쉐이킹 (Tree Shaking)**: 사용하지 않는 코드를 제거하여 번들 크기를 줄이는 최적화 기법
- **코드 분할 (Code Splitting)**: 번들을 여러 개의 작은 청크로 나누어 필요할 때만 로드하는 기법
- **동적 임포트 (Dynamic Import)**: import() 함수를 사용하여 런타임에 모듈을 비동기적으로 로드
- **최소화 (Minification)**: 코드에서 불필요한 공백, 주석, 변수명 단축 등을 통해 파일 크기를 줄이는 과정
- **압축 (Compression)**: Gzip, Brotli 등을 사용하여 파일을 압축하는 기법
- **청크 분할 (Chunk Splitting)**: 벤더 라이브러리와 애플리케이션 코드를 분리하여 캐싱 효율을 높이는 방법
- **번들 분석 (Bundle Analysis)**: webpack-bundle-analyzer 등을 사용하여 번들 구성을 시각화하고 최적화 포인트를 찾는 과정

## Script

webpack 번들 크기를 줄이는 방법은 크게 4가지 카테고리로 나눌 수 있습니다.

첫 번째는 **불필요한 코드 제거**입니다. 트리 쉐이킹을 통해 실제로 사용되지 않는 코드를 제거하고, ES6 모듈 시스템을 사용하여 정적 분석이 가능하도록 합니다. 또한 사용하지 않는 라이브러리나 polyfill을 제거하는 것도 중요합니다.

두 번째는 **코드 분할**입니다. 동적 임포트를 사용하여 필요한 시점에만 코드를 로드하고, 라우트 기반으로 코드를 분할하거나 기능별로 청크를 나누어 초기 로딩 시간을 단축할 수 있습니다.

세 번째는 **최적화 도구 활용**입니다. TerserPlugin을 사용한 코드 최소화, 이미지 최적화, CSS 최소화 등을 통해 전체적인 번들 크기를 줄일 수 있습니다.

마지막으로 **번들 분석 및 모니터링**입니다. webpack-bundle-analyzer를 통해 번들 구성을 시각화하고, 어떤 모듈이 가장 큰 공간을 차지하는지 파악하여 최적화 우선순위를 정할 수 있습니다.

## 더 공부할 내용

1. webpack의 SplitChunksPlugin 설정 옵션과 최적화 전략
2. 트리 쉐이킹이 동작하는 원리와 ES6 모듈 시스템의 중요성
3. 라이브러리별 번들 크기 비교 및 대안 라이브러리 선택 기준
4. 이미지 최적화 및 웹 폰트 최적화 방법
5. 모던 자바스크립트와 레거시 브라우저 지원을 위한 differential loading 전략
6. webpack 5의 Module Federation을 활용한 마이크로 프론트엔드 아키텍처
7. 캐싱 전략과 브라우저 캐시 최적화 방법

---

### 정리

**코드 최적화**

- 트리 쉐이킹으로 미사용 코드 제거
- 코드 스플리팅으로 필요한 부분만 로드
- 중복 제거 (DedupePlugin)

**라이브러리 최적화**

- 필요한 부분만 import (lodash → lodash/get)
- CDN 활용으로 vendor 라이브러리 외부화
- 경량 라이브러리 대체 고려

**압축 및 최적화**

- Gzip/Brotli 압축
- 이미지 최적화 (imagemin-webpack-plugin)
- CSS 압축 (CssMinimizerPlugin)
